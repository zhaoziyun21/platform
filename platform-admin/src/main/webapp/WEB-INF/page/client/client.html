<!DOCTYPE html>
<html>
<head>
    <title>客户列表</title>
    #parse("sys/header.html")
</head>
<body>
<div id="client"  v-cloak>
    <div v-show="showClientList">
        <Row :gutter="16">
            <div class="search-group">
                <i-col span="4">
                    <i-input v-model="q.clientTel" @on-enter="query" placeholder="手机号"/>
                </i-col>
                <i-button @click="query">查询</i-button>
            </div>
            <div class="buttons-group">
                <i-button type="warning" @click="signRecord"><i class="fa fa-plus"></i>&nbsp;签单记录</i-button>
                <i-button type="warning" @click="propertyRecord"><i class="fa fa-plus"></i>&nbsp;资产记录</i-button>
                <i-button type="warning" @click="loanRecord"><i class="fa fa-plus"></i>&nbsp;贷款记录</i-button>
                <i-button type="warning" @click="followRecord"><i class="fa fa-plus"></i>&nbsp;跟单记录</i-button>
                #if($shiro.hasPermission("client:save"))
                <i-button type="info" @click="add"><i class="fa fa-plus"></i>&nbsp;新增</i-button>
                #end
                <!--#if($shiro.hasPermission("client:delete"))-->
                <!--<i-button type="error" @click="del"><i class="fa fa-trash-o"></i>&nbsp;删除</i-button>-->
                <!--#end-->
            </div>
        </Row>
        <table id="jqGrid"></table>
        <div id="jqGridPager"></div>
    </div>

    <Card v-show="!showClientList">
        <p slot="title">{{title}}</p>
        <i-form ref="formValidate" :model="client" :rules="ruleValidate" :label-width="500" inline>
            <Form-item label="客户姓名" prop="clientName">
                <i-input v-model="client.clientName" placeholder="客户姓名"/>
            </Form-item>
            <Form-item label="手机号" prop="clientTel">
                <i-input v-model="client.clientTel" placeholder="手机号"/>
            </Form-item>
            <Form-item label="申请平台" prop="applyPlatform">
                <i-input v-model="client.applyPlatform" placeholder="申请平台"/>
            </Form-item>
            <Form-item label="申请金额" prop="applyAmount">
                <i-input v-model="client.applyAmount" placeholder="申请金额"/>
            </Form-item>
            <Form-item label="申请时间" prop="applyTime">
                <Date-picker v-model="client.applyTime" placeholder="申请时间" format="yyyy-MM-dd"></Date-picker>
            </Form-item>
            <Form-item label="工资类型" prop="salaryType" >
                <i-select v-model="client.salaryType" placeholder="请选择工资类型">
                    <i-option value="1">打卡</i-option>
                    <i-option value="2">现金</i-option>
                </i-select>
            </Form-item>
            <Form-item label="工资联缴年限（月）" prop="salaryYears">
                <i-input v-model="client.salaryYears" placeholder="工资联缴年限"/>
            </Form-item>
            <Form-item label="社保个缴金额（元）" prop="socialSecurityPay">
                <i-input v-model="client.socialSecurityPay"  placeholder="社保个缴金额"/>
            </Form-item>
            <Form-item label="已交社保年限（月）" prop="socialSecurityYears">
                <i-input v-model="client.socialSecurityYears" placeholder="已交社保年限"/>
            </Form-item>
            <Form-item label="公积金个缴金额（元）" prop="gjjPay">
                <i-input v-model="client.gjjPay" placeholder="公积金个缴金额"/>
            </Form-item>
            <Form-item label="公积金已交年限（月）" prop="gjjYears">
                <i-input v-model="client.gjjYears" placeholder="公积金已交年限"/>
            </Form-item>
            <Form-item label="是否记入成本" prop="isRecordCost">
                <i-select v-model="client.isRecordCost" placeholder="是否记入成本">
                    <i-option value="0">是</i-option>
                    <i-option value="1">否</i-option>
                </i-select>
            </Form-item>
            <Form-item label="成本金额" prop="cost">
                <i-input v-model="client.cost" placeholder="成本金额"/>
            </Form-item>

            <Form-item label="客户类型" prop="clientType">
                <i-select v-model="client.clientType" placeholder="请选择客户类型">
                    <i-option value="1">A：近期有资质有需求</i-option>
                    <i-option value="2">B：有资质无需求七天回访一次</i-option>
                    <i-option value="3">C：有需求没资质</i-option>
                    <i-option value="4">D：没资质没需求</i-option>
                    <i-option value="5">E类客户为淘汰资源</i-option>
                </i-select>
            </Form-item>

            <Form-item label="是否上门" prop="isVisit">
                <Radio-group v-model="client.isVisit">
                    <Radio label="0">
                        <span>待上门</span>
                    </Radio>
                    <Radio label="1">
                        <span>已上门</span>
                    </Radio>
                </Radio-group>
            </Form-item>
            <Form-item label="签约状态" prop="signStatus">
                <i-select v-model="client.signStatus" placeholder="请选择签约状态">
                    <i-option value="0">--请选择--</i-option>
                    <i-option value="1">未签约</i-option>
                    <i-option value="2">已签约</i-option>
                </i-select>
            </Form-item>
            <Form-item>
                <i-button type="primary" @click="handleSubmit('formValidate')">提交</i-button>
                <i-button type="warning" @click="reload" style="margin-left: 8px">返回</i-button>
                <i-button type="ghost" @click="handleReset('formValidate')" style="margin-left: 8px">重置</i-button>
            </Form-item>

        </i-form>
    </Card>

</div>

<script src="${rc.contextPath}/js/client/client.js?_${date.systemTime}"></script>
</body>
</html>